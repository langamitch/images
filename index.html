<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Responsive Image Gallery</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: #000000;
      color: #fff;
    }
    * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
      padding: 20px;
      padding-bottom: 120px; /* To avoid overlap with bottom nav */
    }

    .gallery img {
      width: 100%;
      height: 300px;
      object-fit: cover;
      cursor: pointer;
      border-radius: 0;
      transition: transform 0.2s;
    }

    .gallery img:hover {
      transform: scale(1.05);
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      justify-content: center;
      align-items: center;
      overflow: auto;
      padding: 20px;
      z-index: 10;
    }

    .modal-content {
      max-width: 800px;
      width: 100%;
      text-align: center;
    }

    .modal img {
      width: 100%;
      height: auto;
      border-radius: 8px;
    }

    .description {
      margin: 10px 0;
      font-size: 18px;
    }

    .similar-items {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .similar-items img {
      width: 100px;
      height: 100px;
      object-fit: cover;
      border-radius: 6px;
      cursor: pointer;
    }

    .close {
      position: absolute;
      top: 20px;
      right: 30px;
      font-size: 40px;
      font-weight: bold;
      cursor: pointer;
    }

    /* Bottom nav container */
    .bottom-nav {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #ededed9f;
      color: black;
      backdrop-filter: blur(10px);
      border-radius: 30px;
      padding: 20px 30px;
      display: flex;
      gap: 30px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      z-index: 100;
    }

    .bottom-nav a {
      color: black;
      text-decoration: none;
      font-size: 18px;
      font-weight: 500px;
      transition: color 0.3s;
    }

    .bottom-nav a:hover {
      color: #ffcc00;
    }

    @media (max-width: 500px) {
      .bottom-nav {
        gap: 20px;
        padding: 15px 20px;
      }
      .bottom-nav a {
        font-size: 16px;
      }
    }

    .loading {
      text-align: center;
      padding: 20px;
      font-size: 18px;
      color: #ccc;
    }
    .talk{
  background: #ffffff;
  color: #000000;
  border: none;
  padding: 0.6rem 1rem;
  border-radius: 30px;
  cursor: pointer;
  font-size: 18px;
  font-weight: 500;
  transition: background 0.3s ease;
}

nav {
  position: fixed;
  top: 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: .6rem 1rem;
  width: 100%;
  z-index: 1000;
  background: #0000007c;
  backdrop-filter: blur(10px);
  
}

.logo {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.logo img {
    width:30px;
    height: 30px;
  fill: white;
}

.nav-links {
  display: flex;
  gap: 1.5rem;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
}

.nav-links a {
  text-decoration: none;
  color: #fff;
  font-weight: 400;
  font-size: 13px;
}

.social {
  display: flex;
  gap: 1rem;
}

.social a {
  text-decoration: none;
  font-size: .7rem;
  fill: white;
}
.social svg{
    font-size: 10px;
}
/* Mobile styles */
@media (max-width: 768px) {
  .nav-links,
  .social, .category,  .ite {
    display: none;
  }

 

  nav .talk{
    padding: 0.3rem .7rem;
    border-radius: 30px;
    cursor: pointer;
    font-size: 13px;
    font-weight: 500;
  }

}


.right{
  display: flex;
  align-items: center;
  gap: 1rem;
}
  </style>
</head>
<body>

  <nav>
    <div class="logo"><img src="assets/H4.svg" alt=""></div>
    <div class="nav-links">
      <a href="#">Work</a>
      <a href="about.html">About</a>
      <a href="#">Services</a>
    </div>

    <div class="right">
        <button class="talk">Let's Talk</button>

    <a href="https://www.instagram.com/wandile_010"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="20" height="20" viewBox="0 0 48 48"
        style="fill:#FFFFFF;">
        <path d="M 16.5 5 C 10.16639 5 5 10.16639 5 16.5 L 5 31.5 C 5 37.832757 10.166209 43 16.5 43 L 31.5 43 C 37.832938 43 43 37.832938 43 31.5 L 43 16.5 C 43 10.166209 37.832757 5 31.5 5 L 16.5 5 z M 16.5 8 L 31.5 8 C 36.211243 8 40 11.787791 40 16.5 L 40 31.5 C 40 36.211062 36.211062 40 31.5 40 L 16.5 40 C 11.787791 40 8 36.211243 8 31.5 L 8 16.5 C 8 11.78761 11.78761 8 16.5 8 z M 34 12 C 32.895 12 32 12.895 32 14 C 32 15.105 32.895 16 34 16 C 35.105 16 36 15.105 36 14 C 36 12.895 35.105 12 34 12 z M 24 14 C 18.495178 14 14 18.495178 14 24 C 14 29.504822 18.495178 34 24 34 C 29.504822 34 34 29.504822 34 24 C 34 18.495178 29.504822 14 24 14 z M 24 17 C 27.883178 17 31 20.116822 31 24 C 31 27.883178 27.883178 31 24 31 C 20.116822 31 17 27.883178 17 24 C 17 20.116822 20.116822 17 24 17 z"></path>
        </svg></a>
        <a href="https://www.x.com/@Rxch_010"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="20" height="20" viewBox="0 0 30 30"
            style="fill:#FFFFFF;">
            <path d="M26.37,26l-8.795-12.822l0.015,0.012L25.52,4h-2.65l-6.46,7.48L11.28,4H4.33l8.211,11.971L12.54,15.97L3.88,26h2.65 l7.182-8.322L19.42,26H26.37z M10.23,6l12.34,18h-2.1L8.12,6H10.23z"></path>
            </svg></a>
</div>
  </nav>

  <!-- Bottom Navigation -->
  <div class="bottom-nav">
    <a href="#home">Home</a>
    <a href="#about">About</a>
    <a href="#career">Career</a>
  </div>

<div class="gallery" id="gallery"></div>
<div class="loading" id="loading">Loading...</div>

<div class="modal" id="modal">
  <span class="close" id="close">&times;</span>
  <div class="modal-content">
    <img id="modal-img" src="" alt="">
    <div class="description" id="modal-desc"></div>
    <h3>Similar Items</h3>
    <div class="similar-items" id="similar-items"></div>
  </div>
</div><script>
  const gallery = document.getElementById('gallery');
  const modal = document.getElementById('modal');
  const modalImg = document.getElementById('modal-img');
  const modalDesc = document.getElementById('modal-desc');
  const closeBtn = document.getElementById('close');
  const loadingDiv = document.getElementById('loading');
  
  const perFetch = 12;
  let loading = false;
  let query = 'technology';
  
  // Detect backend URL automatically
  const BACKEND_URL = window.location.hostname.includes('localhost')
    ? 'http://localhost:5500'
    : 'https://iv-blue.vercel.app';
  
  // Shuffle array helper
  function shuffleArray(array) {
    return array.sort(() => Math.random() - 0.5);
  }
  
  // Fetch images from backend
  async function fetchImages(query, count = perFetch) {
    loadingDiv.style.display = 'block';
    try {
      const res = await fetch(`${BACKEND_URL}/api/images?query=${query}&count=${count}`);
      const data = await res.json();
      return data;
    } catch (err) {
      console.error('Failed to fetch images:', err);
      return [];
    } finally {
      loadingDiv.style.display = 'none';
    }
  }
  
  // Load gallery
  async function loadGallery() {
    if (loading) return;
    loading = true;
    const images = await fetchImages(query, perFetch);
    shuffleArray(images).forEach(img => {
      const imageElem = document.createElement('img');
      imageElem.src = img.urls.regular;
      imageElem.alt = img.alt_description || 'Unsplash Image';
      imageElem.loading = 'lazy';
      imageElem.addEventListener('click', () => openModal(img));
      gallery.appendChild(imageElem);
    });
    loading = false;
  }
  
  // Open modal
  function openModal(img) {
    modal.style.display = 'flex';
    modalImg.src = img.urls.regular;
    modalDesc.textContent = img.alt_description || 'No description available';
  }
  
  // Close modal
  closeBtn.onclick = () => (modal.style.display = 'none');
  window.onclick = e => {
    if (e.target == modal) modal.style.display = 'none';
  };
  
  // Infinite scroll
  window.addEventListener('scroll', () => {
    if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 100 && !loading) {
      loadGallery();
    }
  });
  
  // Initial load
  loadGallery();
  </script>
  
  
  <!-- Linking JavaScript file -->
  <script src="server.js"></script>
  
    <!-- Linking JavaScript file -->
  <script src="api/image.js"></script>
  
</body>
</html>
