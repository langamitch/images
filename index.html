<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Responsive Image Gallery</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: #000000;
      color: #fff;
    }
    * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.gallery {

  column-count: 4; /* Default for large screens */
  column-gap: 8px;
  padding: 16px;
  padding-top: 120px; /* Avoid overlap with bottom nav */
  padding-bottom: 120px; /* Avoid overlap with bottom nav */
}

.image-card img {
  width: 100%;
  margin-bottom: 16px;
  display: block;
  break-inside: avoid; /* Prevent breaking between columns */
  border-radius: 4px;
  object-fit: cover;
  cursor: pointer;
  transition: transform 0.2s ease-in-out;
}

.gallery img:hover {
  transform: scale(1.05);
}

/* For tablets */
@media (max-width: 1024px) {
  .gallery {
    column-count: 3;
  }
}

/* For small devices */
@media (max-width: 768px) {
  .gallery {
    column-count: 2;
  }
}

/* For very small devices */
@media (max-width: 480px) {
  .gallery {
    column-count: 2; /* Keep 2 columns for mobile */
  }
}


/* Modal Overlay */
.modal {
  display: none; /* Hidden by default */
  position: fixed;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255,1);
  justify-content: center;
  align-items: center;
  overflow-y: auto;
  padding: 20px;
  color: black;
  z-index: 10000;
}

/* Modal Content */
.modal-content {
  max-width: 900px;
  width: 100%;
  margin: auto;
  text-align: left;
  position: relative;
}

/* Modal Image */
.modal-content img {
  width: 100%;
  max-height: 70vh;
  object-fit: contain;
  border-radius: 0px;
}

/* Description Text */
.description {
  margin: 12px 0;
  font-weight: 500;
  font-size: 14px;
  color: #1a1a1a;
  font-family: 'Inter', sans-serif;
  text-transform: uppercase;
}

/* Similar Items */
.similar-items {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  justify-content: center;
  margin-top: 20px;
  text-transform: uppercase;
  font-family: 'Inter', sans-serif;
}

.similar-items img {
  width: 100px;
  height: 100px;
  object-fit: cover;
  border-radius: 6px;
  cursor: pointer;
  transition: transform 0.2s;
}

.similar-items img:hover {
  transform: scale(1.05);
}

/* Close Button */
.close {
  position: absolute;
  top: 15px;
  right: 20px;
  font-size: 36px;
  color: #fff;
  font-weight: bold;
  cursor: pointer;
  transition: color 0.2s;
}

.close:hover {
  color: #ffcc00;
}


    /* Bottom nav container */
    .bottom-nav {
      position: fixed;
      display:none; /* Hidden by default */
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #ededed9f;
      color: black;
      backdrop-filter: blur(10px);
      border-radius: 30px;
      padding: 20px 30px;
      display: flex;
      gap: 30px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      z-index: 100;
    }

    .bottom-nav a {
      color: black;
      text-decoration: none;
      font-size: 18px;
      font-weight: 500px;
      transition: color 0.3s;
    }

    .bottom-nav a:hover {
      color: #ffcc00;
    }

    @media (max-width: 500px) {
      .bottom-nav {
        gap: 20px;
        padding: 15px 20px;
      }
      .bottom-nav a {
        font-size: 16px;
      }
    }

    .loading {
      text-align: center;
      padding: 20px;
      font-size: 18px;
      color: #ccc;
    }
    .load-more {
  display: block;
  margin: 20px auto;
  background: #000000;
  color: #fff;
  border: 1px solid white;
  padding: 12px 24px;
  width: 80vw;
  font-size: 16px;
  font-weight: 500;
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.3s ease;
}
.load-more-container {
  display: flex;
  justify-content: center;
  margin: 20pxrgb(24, 24, 24)
}

.load-more:hover {
  background: #181818;
}

    .talk{
      display: none;
  background: #ffffff;
  color: #000000;
  border: none;
  padding: 0.6rem 1rem;
  border-radius: 30px;
  cursor: pointer;
  font-size: 18px;
  font-weight: 500;
  transition: background 0.3s ease;
}

nav {
  width: 100%;
  position: fixed;
  top: 0;
  z-index: 1000;
  background: #0000007c;
  backdrop-filter: blur(10px);
  display: flex;
  flex-direction: column; /* stack navcontent and category-bar */
}

.logo {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.logo img {
    width:30px;
    height: 30px;
  fill: white;
}

.nav-links {
  display: flex;
  gap: 1.5rem;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
}

.nav-links a {
  text-decoration: none;
  color: #fff;
  font-weight: 400;
  font-size: 13px;
}

.social {
  display: flex;
  gap: 1rem;
}

.social a {
  text-decoration: none;
  font-size: .7rem;
  fill: white;
}
.social svg{
    font-size: 10px;
}
/* Mobile styles */
@media (max-width: 768px) {
  .nav-links,
  .social, .category,  .ite {
    display: none;
  }

 

  nav .talk{
    padding: 0.3rem .7rem;
    border-radius: 30px;
    cursor: pointer;
    font-size: 13px;
    font-weight: 500;
  }

}


.right{
  display: flex;
  align-items: center;
  gap: 1rem;
}


/* Category Bar full width under navcontent */
.category-bar {
  display: flex;
  gap: 15px;
  overflow-x: auto;
  padding: 0rem 1rem;
  background: transparent;
  justify-content: space-between;
  width: 100%;
  scrollbar-width: none;
}

.category-bar::-webkit-scrollbar {
  display: none; /* Chrome, Safari */
}

.category-btn {
  background: transparent;
  color: #fff;
  border: none;
  padding: 10px 0px;
  border-radius: 0px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap; /* Prevent text wrapping */
  transition: background 0.3s ease;
}

.category-btn:hover {
  background: #444;
}

.category-btn.active {
  background: transparent;
  text-decoration: underline;
  text-underline-offset: 5px;
  color: white;
}


/* Nav main row */
.navcontent {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0rem 1rem;
  width: 100%;
}

.image-card {
  position: relative;
}

.image-card img {
  width: 100%;
  height: auto;

  display: block;
  transition: transform 0.2s;

  margin-bottom: 16px;
  display: block;
  break-inside: avoid; /* Prevent breaking between columns */
  border-radius: 4px;
  object-fit: cover;
  cursor: pointer;
  transition: transform 0.2s ease-in-out;
}



/* Download icon styling */
.download-icon {
  position: absolute;
  top: 8px;
  right: 8px;
  background: rgba(0,0,0,0.6);
  color: #fff;
  padding: 0px;
  height: 30px;
  width:30px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 4px;
  font-size: 18px;
  text-decoration: none;
  cursor: pointer;
  z-index: 5;
  transition: background 0.2s;
}

.download-icon:hover {
  background: rgba(0,0,0,0.9);
}

.image-card p {
  margin: 8px 0 8px 0;
  font-size: 13px;
  color: #ffffffcc; /* semi-transparent white */
  text-align: left;
  line-height: 1.3;
  overflow: hidden;
  font-weight: 500;
  text-overflow: ellipsis;
  white-space: nowrap; /* keep it in one line */
}

.image-card p small {
  color: #aaaaaa;
  font-size: 13px;

  font-weight: 500;
  margin-left: 5px;
  
}


  </style>
</head>
<body>

  <nav>
    <div class="navcontent">
      <div class="logo"><img src="assets/H4.svg" alt="Logo"></div>
      
      <div class="nav-links">
        <a href="#">Work</a>
        <a href="about.html">About</a>
        <a href="#">Services</a>
      </div>
  
      <div class="right">
        <button class="talk">Let's Talk</button>
        <a href="https://www.instagram.com/wandile_010"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="20" height="20" viewBox="0 0 48 48"
          style="fill:#FFFFFF;">
          <path d="M 16.5 5 C 10.16639 5 5 10.16639 5 16.5 L 5 31.5 C 5 37.832757 10.166209 43 16.5 43 L 31.5 43 C 37.832938 43 43 37.832938 43 31.5 L 43 16.5 C 43 10.166209 37.832757 5 31.5 5 L 16.5 5 z M 16.5 8 L 31.5 8 C 36.211243 8 40 11.787791 40 16.5 L 40 31.5 C 40 36.211062 36.211062 40 31.5 40 L 16.5 40 C 11.787791 40 8 36.211243 8 31.5 L 8 16.5 C 8 11.78761 11.78761 8 16.5 8 z M 34 12 C 32.895 12 32 12.895 32 14 C 32 15.105 32.895 16 34 16 C 35.105 16 36 15.105 36 14 C 36 12.895 35.105 12 34 12 z M 24 14 C 18.495178 14 14 18.495178 14 24 C 14 29.504822 18.495178 34 24 34 C 29.504822 34 34 29.504822 34 24 C 34 18.495178 29.504822 14 24 14 z M 24 17 C 27.883178 17 31 20.116822 31 24 C 31 27.883178 27.883178 31 24 31 C 20.116822 31 17 27.883178 17 24 C 17 20.116822 20.116822 17 24 17 z"></path>
          </svg></a>
        <a href="https://www.x.com/@Rxch_010"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="20" height="20" viewBox="0 0 30 30"
          style="fill:#FFFFFF;">
          <path d="M26.37,26l-8.795-12.822l0.015,0.012L25.52,4h-2.65l-6.46,7.48L11.28,4H4.33l8.211,11.971L12.54,15.97L3.88,26h2.65 l7.182-8.322L19.42,26H26.37z M10.23,6l12.34,18h-2.1L8.12,6H10.23z"></path>
          </svg></a>
      </div>
    </div>
  
    <!-- Category Bar now outside navcontent -->
    <div class="category-bar">
      <button class="category-btn active" data-category="technology">Technology</button>
      <button class="category-btn" data-category="nature">Nature</button>
      <button class="category-btn" data-category="people">People</button>
      <button class="category-btn" data-category="architecture">Architecture</button>
      <button class="category-btn" data-category="animals">Animals</button>
      <button class="category-btn" data-category="travel">Travel</button>
      <button class="category-btn" data-category="fashion">Fashion</button>
      <button class="category-btn" data-category="sports">Sports</button>
      <button class="category-btn" data-category="food">Food</button>
    </div>
  </nav>


  <!-- Horizontal Category Scroll Bar -->


  <!-- Bottom Navigation
  <div class="bottom-nav">
    <a href="#home"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"/></svg></a>
    <a href="#about"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></a>
    <a href="#about"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M80-120v-650l200-150 200 150v90h400v560H80Zm80-80h80v-80h-80v80Zm0-160h80v-80h-80v80Zm0-160h80v-80h-80v80Zm0-160h80v-80h-80v80Zm160 0h80v-80h-80v80Zm0 480h480v-400H320v400Zm240-240v-80h160v80H560Zm0 160v-80h160v80H560ZM400-440v-80h80v80h-80Zm0 160v-80h80v80h-80Z"/></svg></a>
    <a href="#career"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M480-80q-82 0-155-31.5t-127.5-86Q143-252 111.5-325T80-480q0-83 31.5-155.5t86-127Q252-817 325-848.5T480-880q83 0 155.5 31.5t127 86q54.5 54.5 86 127T880-480q0 82-31.5 155t-86 127.5q-54.5 54.5-127 86T480-80Zm0-82q26-36 45-75t31-83H404q12 44 31 83t45 75Zm-104-16q-18-33-31.5-68.5T322-320H204q29 50 72.5 87t99.5 55Zm208 0q56-18 99.5-55t72.5-87H638q-9 38-22.5 73.5T584-178ZM170-400h136q-3-20-4.5-39.5T300-480q0-21 1.5-40.5T306-560H170q-5 20-7.5 39.5T160-480q0 21 2.5 40.5T170-400Zm216 0h188q3-20 4.5-39.5T580-480q0-21-1.5-40.5T574-560H386q-3 20-4.5 39.5T380-480q0 21 1.5 40.5T386-400Zm268 0h136q5-20 7.5-39.5T800-480q0-21-2.5-40.5T790-560H654q3 20 4.5 39.5T660-480q0 21-1.5 40.5T654-400Zm-16-240h118q-29-50-72.5-87T584-782q18 33 31.5 68.5T638-640Zm-234 0h152q-12-44-31-83t-45-75q-26 36-45 75t-31 83Zm-200 0h118q9-38 22.5-73.5T376-782q-56 18-99.5 55T204-640Z"/></svg></a>
  </div> -->

<div class="gallery" id="gallery"></div>
<div class="loading" id="loading">Loading...</div>
<button class="load-more" id="load-more">Load More</button>


<div class="modal" id="modal">
  <span class="close" id="close"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M256-213.85 213.85-256l224-224-224-224L256-746.15l224 224 224-224L746.15-704l-224 224 224 224L704-213.85l-224-224-224 224Z"/></svg></span>
  <div class="modal-content">
    <img id="modal-img" src="" alt="">
    <div class="description" id="modal-desc"></div>
    <p>Similar Items</p>
    <div class="similar-items" id="similar-items"></div>
  </div>
</div>

  <!-- Linking JavaScript file -->
  <script>
    const pexelsKey = 'VzvQE3vRaKJI6GdXsvNYMNidtB3NMRMHawJwemyUeARPxf5wfS90taTL';
    const pixabayKey = '51945110-c9ce4fbb288952085fb9e444f';
    const unsplashKey = 'rp9_shDmKuIKGdLrL6g0l7-vvAWYuf2RTSa717SRuM0';
    
    let page = 1;
    let query = 'technology';
    let perPage = 6;
    let allImages = [];
    let isLoading = false;
    
    // Fetch Functions (Pexels, Pixabay, Unsplash)
    async function fetchPexels(q, p) {
        const res = await fetch(`https://api.pexels.com/v1/search?query=${q}&per_page=${perPage}&page=${p}`, {
            headers: { Authorization: pexelsKey }
        });
        const data = await res.json();
        return data.photos.map(img => ({ url: img.src.large, photographer: img.photographer, source: 'Pexels' }));
    }
    
    async function fetchPixabay(q, p) {
        const res = await fetch(`https://pixabay.com/api/?key=${pixabayKey}&q=${q}&image_type=photo&per_page=${perPage}&page=${p}`);
        const data = await res.json();
        return data.hits.map(img => ({ url: img.largeImageURL, photographer: img.user, source: 'Pixabay' }));
    }
    
    async function fetchUnsplash(q, p) {
        try {
            const res = await fetch(`https://api.unsplash.com/search/photos?page=${p}&per_page=${perPage}&query=${q}&client_id=${unsplashKey}`);
            if (!res.ok) throw new Error('Unsplash failed');
            const data = await res.json();
            return data.results.map(img => ({ url: img.urls.regular, photographer: img.user.name, source: 'Unsplash' }));
        } catch { return []; }
    }
    
    // Fetch All Sources
    async function fetchAll(q = query) {
        if (isLoading) return;
        isLoading = true;
        document.getElementById('loading').style.display = 'block';
        query = q;
        page = 1;
        allImages = [];
    
        try {
            const [pexels, pixabay, unsplash] = await Promise.all([fetchPexels(q, page), fetchPixabay(q, page), fetchUnsplash(q, page)]);
            allImages = [...pexels, ...pixabay, ...unsplash].sort(() => Math.random() - 0.5);
            renderImages(true);
        } catch (error) { console.error('Error fetching images:', error); }
    
        document.getElementById('loading').style.display = 'none';
        isLoading = false;
    }
    
    // Render Images in Pinterest-style grid
    function renderImages(clear = false) {
        const gallery = document.getElementById('gallery');
        const content = allImages.map(img => `
          <div class="image-card">
            <img src="${img.url}" alt="Image" onclick="openModal('${img.url}', '${img.photographer}', '${img.source}')">
            <a href="${img.url}" download="${img.photographer || 'image'}.jpg" class="download-icon" title="Download">
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M480-328.46 309.23-499.23l42.16-43.38L450-444v-336h60v336l98.61-98.61 42.16 43.38L480-328.46ZM252.31-180Q222-180 201-201q-21-21-21-51.31v-108.46h60v108.46q0 4.62 3.85 8.46 3.84 3.85 8.46 3.85h455.38q4.62 0 8.46-3.85 3.85-3.84 3.85-8.46v-108.46h60v108.46Q780-222 759-201q-21 21-51.31 21H252.31Z"/></svg>
            </a>
            <p>${img.photographer} </p>
          </div>
        `).join('');
    
        if (clear) gallery.innerHTML = content;
        else gallery.insertAdjacentHTML('beforeend', content);
    }
    
    // Load More
    async function loadMore() {
        if (isLoading) return;
        isLoading = true;
        document.getElementById('loading').style.display = 'block';
    
        try {
            page++;
            const [pexels, pixabay, unsplash] = await Promise.all([fetchPexels(query, page), fetchPixabay(query, page), fetchUnsplash(query, page)]);
            const newImages = [...pexels, ...pixabay, ...unsplash].sort(() => Math.random() - 0.5);
            allImages = [...allImages, ...newImages];
            renderImages();
        } catch (error) { console.error('Error loading more images:', error); }
    
        document.getElementById('loading').style.display = 'none';
        isLoading = false;
    }
    
    // Infinite Scroll
    window.addEventListener('scroll', () => {
        if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 200) loadMore();
    });
    
    document.getElementById('load-more').addEventListener('click', loadMore);
    
    // Category Buttons
    document.querySelectorAll('.category-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            fetchAll(btn.getAttribute('data-category'));
        });
    });
    
    // Modal Logic
    function openModal(url, photographer, source) {
        const modal = document.getElementById('modal');
        document.getElementById('modal-img').src = url;
        document.getElementById('modal-desc').innerText = `${photographer} (${source})`;
        
        // Similar Items (4 random)
        const similarContainer = document.getElementById('similar-items');
        similarContainer.innerHTML = '';
        allImages.filter(img => img.url !== url).sort(() => Math.random() - 0.5).slice(0,4).forEach(img => {
            const sim = document.createElement('img');
            sim.src = img.url;
            sim.title = `${img.photographer} (${img.source})`;
            sim.addEventListener('click', () => openModal(img.url, img.photographer, img.source));
            similarContainer.appendChild(sim);
        });
    
        modal.style.display = 'flex';
    }
    
    // Close Modal
    document.getElementById('close').addEventListener('click', () => {
        document.getElementById('modal').style.display = 'none';
    });
    document.getElementById('modal').addEventListener('click', e => { if(e.target.id==='modal') e.target.style.display='none'; });
    
    // Initial Fetch
    fetchAll();
    </script>
    
</body>
</html>
